---
title: 数组
date: 2022-12-25 19:40:44
permalink: /pages/0c14fc/
categories:
  - C++
tags:
  - 数组
---

前面介绍了用C++做一些简单的运算，然而程序除了运算（控制）外，还需要存储（数据）。

这里介绍C++里的基础数据存储结构：数组。

<!-- more -->

## 什么是数组

以int类型举例：

当声明一个int类型的变量a，是在内存中声明了一个int类型大小（4Byte，32Bit）的内存

当声明一个int类型的数组array，是在内存中声明了一组连续的int类型大小（4Byte，32Bit）的内存

## 基本操作（初始化和下标访问）

数据申明的基本形式：

```c++
类型  参数[数量]
```
访问数组时，使用数组下标，下标从0开始。

### 初始化1
已知数组大小，和所有元素的值。
```c++
void demo()
{
  int array[2] = { 1, 2 };
  cout << array[0] << endl;
  cout << array[1] << endl;
}
```
结果为：
> 1
> 2

这种情况下也可以省略数组大小不写，结果等价。
```c++
void demo()
{
  int array[2] = { 1, 2 };
  cout << array[0] << endl;
  cout << array[1] << endl;
}
```


### 初始化2
已知数组大小，和有元素的值，且值相同。
```c++
void demo()
{
  int array[2] = { 1 };
  cout << array[0] << endl;
  cout << array[1] << endl;
}
```
结果：
> 1
> 1


### 初始化3
已知数组大小，值暂不清晰。
```c++
void demo()
{
  int array[2];
  array[0] = 0;
  array[1] = 1;
  cout << array[0] << endl;
  cout << array[1] << endl;
}
```

### 未初始化
为初始化的数据为当前内存位置存的随机值。

存在两种为初始的情况：
1、数组刚声明，未赋值。
2、数组访问下标越界，虽然还是可以访问，但是值为随机值。

```c++
void demo()
{
  int array1[2];
  cout << array1[0] << endl;
  cout << array1[1] << endl;

  int array2[2] = {0};
  cout << array2[0] << endl;
  cout << array2[1] << endl;
  cout << array2[2] << endl;
}
```

结果：
```
-135408993
32767

0
0
-135408993
```


## 栈数组和堆数组（动态分配）

**栈数组：内容存储在栈中的数组。** 
上面的demo其实就是栈数组。
这样的数组有一个弊端，需要在写代码时，就定义好数组大小。

如果我们需要在运行时决定数组大小，就需要堆数组；对数组大小进行动态分配。

**堆数组：内容存储在堆中的数组。**
C++如果想把内存分配到堆上，
