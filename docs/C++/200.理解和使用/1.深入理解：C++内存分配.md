---
title: 深入理解：C++内存分配
date: 2023-01-08 23:07:46
permalink: /pages/f2ea1e/
categories:
  - C++
tags:
  - 内存分配
---
程序一般都是在内存中跑的，这章主要讲c++程序运行时的内存分配问题。

讲解包括：内存申请使用的关键字、各种变量在内存中的位置、程序代码在内存中的位置。

<!-- more -->

## 关键字

c++兼容c,所以这里我们可以使用 malloc,free 这两个关键字。
但在c++中又增加了两个新关键字 new , delete; 在c++程序中，我们以新的关键字为主。


## 程序运行空间

内核空间： 放置操作系统相关的代码和数据。（用户不能直接进行操作 ------ 可以通过调用系统提供的 api 函数）

栈：又叫堆栈，非静态局部变量/函数参数/返回值等等，栈是向下增长的。

内存映射段:是高效的I/O映射方式，用于装载一个共享的 动态内存库。用户可使用系统接口创建共享共享内存，做进程间通信。

堆:用于程序运行时动态内存分配，堆是可以上增长的。

数据段:存储全局数据和静态数据。

代码段:可执行的代码/只读常量。