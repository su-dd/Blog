---
title: 组合模型
date: 2022-07-23 21:23:44
permalink: /pages/135e7e/
categories:
  - 设计模式
tags:
  - 组合模式
---

上篇我们使用命令模式，帮助生产员小啃:guardsman:更好的生活。

啃得鸡的生产线通过引入自动生产线，产量激增；但销售线并没办法通过科技爆炸实现销售的激增。

所以啃得鸡决定，把部分商品通过让利的方式给到经销商销售；走薄利多销的方式消化产能。

大经销商，也通过让利的方式将商品给到小经销商;最终给到消费者手中。

代码上怎么实现？

<!--more-->

## 场景分析

这里可以看到 
> 啃得鸡厂家，对应有N个大经销商
> 大经销商，对应有N个小经销商
> ...
> 小经销商，对应N个零售商
> 零售商，对应N个顾客

可以发现在整个销售链是一个树状结构：

  厂家 -> n大经销商 -> ... -> n零售商 -> n顾客

厂家扮演了【提供商】，顾客扮演了【消费者】; 其他都同时扮演了两个角色：【消费者】、【提供商】；

在销售的整个链条中，每一层都只关注自己上下游，对其他的并不多过问。

现在进行【消费者】、【提供商】两个能力抽提为接口，同时实现类做父子结构嵌套，即完成真个链条的表述。

## 实现

![组合模式](https://cdn.jsdelivr.net/gh/su-dd/cdn/博客/知识总结/设计模式/组合模式.drawio.svg)
### 代码实现

## 代码位置

## 感悟

