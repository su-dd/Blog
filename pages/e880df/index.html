<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基于Cola的初步实践 | 苏呆呆的博客</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?3d63e1b0aa607833cafb451888226547";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script>
    <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-ad-client="ca-pub-2770102725717150" crossorigin="anonymous"></script>
    <meta name="description" content="一个向往美好生活的笨人。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="su-dd,苏呆呆,苏呆呆的博客,呆呆的博客,个人技术博客,技术文档,c++基础,c++提高,c11,c++新特性,c++,java,spring,ddd,面向对象,设计模式,汇编,git,springcloud,面试,git,github,markdown,md文档,vdoing,demo">
    <meta name="theme-color" content="#11a8cd">
    <meta name="baidu_union_verify" content="0c4ba741a75f427faa8dd9c724a81b73">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    
    <link rel="preload" href="/assets/css/0.styles.a6635593.css" as="style"><link rel="preload" href="/assets/js/app.b2b0617d.js" as="script"><link rel="preload" href="/assets/js/2.cff562a5.js" as="script"><link rel="preload" href="/assets/js/161.15f6e202.js" as="script"><link rel="preload" href="/assets/js/8.7397f135.js" as="script"><link rel="prefetch" href="/assets/js/10.2cd4b68b.js"><link rel="prefetch" href="/assets/js/100.60b800ef.js"><link rel="prefetch" href="/assets/js/101.66701792.js"><link rel="prefetch" href="/assets/js/102.c3b3591c.js"><link rel="prefetch" href="/assets/js/103.92e4ddd8.js"><link rel="prefetch" href="/assets/js/104.691282f2.js"><link rel="prefetch" href="/assets/js/105.c5599995.js"><link rel="prefetch" href="/assets/js/106.af3edb3d.js"><link rel="prefetch" href="/assets/js/107.c25e9863.js"><link rel="prefetch" href="/assets/js/108.1e3aeebe.js"><link rel="prefetch" href="/assets/js/109.1b22a6eb.js"><link rel="prefetch" href="/assets/js/11.733d4ab2.js"><link rel="prefetch" href="/assets/js/110.d40a1bca.js"><link rel="prefetch" href="/assets/js/111.c3ea7452.js"><link rel="prefetch" href="/assets/js/112.d96e8508.js"><link rel="prefetch" href="/assets/js/113.658cb11a.js"><link rel="prefetch" href="/assets/js/114.381756eb.js"><link rel="prefetch" href="/assets/js/115.41cc8435.js"><link rel="prefetch" href="/assets/js/116.05139cac.js"><link rel="prefetch" href="/assets/js/117.963900c8.js"><link rel="prefetch" href="/assets/js/118.37965514.js"><link rel="prefetch" href="/assets/js/119.823c0b39.js"><link rel="prefetch" href="/assets/js/12.f5a70e82.js"><link rel="prefetch" href="/assets/js/120.d3655be7.js"><link rel="prefetch" href="/assets/js/121.7e3815cd.js"><link rel="prefetch" href="/assets/js/122.dd04ca2c.js"><link rel="prefetch" href="/assets/js/123.5eec9a72.js"><link rel="prefetch" href="/assets/js/124.92a29444.js"><link rel="prefetch" href="/assets/js/125.63e42c6a.js"><link rel="prefetch" href="/assets/js/126.55a1d374.js"><link rel="prefetch" href="/assets/js/127.1beb1614.js"><link rel="prefetch" href="/assets/js/128.99051007.js"><link rel="prefetch" href="/assets/js/129.beb99217.js"><link rel="prefetch" href="/assets/js/13.4d8c1284.js"><link rel="prefetch" href="/assets/js/130.329d962a.js"><link rel="prefetch" href="/assets/js/131.59b74420.js"><link rel="prefetch" href="/assets/js/132.fce7d641.js"><link rel="prefetch" href="/assets/js/133.21a55328.js"><link rel="prefetch" href="/assets/js/134.c43d0376.js"><link rel="prefetch" href="/assets/js/135.ea174984.js"><link rel="prefetch" href="/assets/js/136.be318aaa.js"><link rel="prefetch" href="/assets/js/137.d84d5582.js"><link rel="prefetch" href="/assets/js/138.4b34b72b.js"><link rel="prefetch" href="/assets/js/139.df5ea758.js"><link rel="prefetch" href="/assets/js/14.518510ed.js"><link rel="prefetch" href="/assets/js/140.0d57d5ab.js"><link rel="prefetch" href="/assets/js/141.4a719260.js"><link rel="prefetch" href="/assets/js/142.6753af99.js"><link rel="prefetch" href="/assets/js/143.ba256a59.js"><link rel="prefetch" href="/assets/js/144.a7ebd62e.js"><link rel="prefetch" href="/assets/js/145.a27410d5.js"><link rel="prefetch" href="/assets/js/146.ca494a45.js"><link rel="prefetch" href="/assets/js/147.6fdefa7e.js"><link rel="prefetch" href="/assets/js/148.71fb2e90.js"><link rel="prefetch" href="/assets/js/149.a8a7065d.js"><link rel="prefetch" href="/assets/js/15.a266a355.js"><link rel="prefetch" href="/assets/js/150.90099809.js"><link rel="prefetch" href="/assets/js/151.71bb788d.js"><link rel="prefetch" href="/assets/js/152.6ec0f3e3.js"><link rel="prefetch" href="/assets/js/153.3790a3de.js"><link rel="prefetch" href="/assets/js/154.152c7b24.js"><link rel="prefetch" href="/assets/js/155.bfa10f50.js"><link rel="prefetch" href="/assets/js/156.d3e6f6a6.js"><link rel="prefetch" href="/assets/js/157.93423f96.js"><link rel="prefetch" href="/assets/js/158.193f485f.js"><link rel="prefetch" href="/assets/js/159.b1fe6678.js"><link rel="prefetch" href="/assets/js/16.69ecfe5a.js"><link rel="prefetch" href="/assets/js/160.971bd865.js"><link rel="prefetch" href="/assets/js/162.fe071dc9.js"><link rel="prefetch" href="/assets/js/163.da0876dc.js"><link rel="prefetch" href="/assets/js/164.c6a447f0.js"><link rel="prefetch" href="/assets/js/165.fc7a3304.js"><link rel="prefetch" href="/assets/js/166.203d55bb.js"><link rel="prefetch" href="/assets/js/17.a6a5e59d.js"><link rel="prefetch" href="/assets/js/18.8c9e44cc.js"><link rel="prefetch" href="/assets/js/19.2861a5bd.js"><link rel="prefetch" href="/assets/js/20.dabdcc5e.js"><link rel="prefetch" href="/assets/js/21.b8317130.js"><link rel="prefetch" href="/assets/js/22.46e9b7da.js"><link rel="prefetch" href="/assets/js/23.a4025da6.js"><link rel="prefetch" href="/assets/js/24.c2fbd549.js"><link rel="prefetch" href="/assets/js/25.30472c64.js"><link rel="prefetch" href="/assets/js/26.442945fd.js"><link rel="prefetch" href="/assets/js/27.4a086f9b.js"><link rel="prefetch" href="/assets/js/28.edf89f24.js"><link rel="prefetch" href="/assets/js/29.151226bf.js"><link rel="prefetch" href="/assets/js/3.531acd57.js"><link rel="prefetch" href="/assets/js/30.6c067212.js"><link rel="prefetch" href="/assets/js/31.bb1540d1.js"><link rel="prefetch" href="/assets/js/32.09f5cc25.js"><link rel="prefetch" href="/assets/js/33.5261d5ea.js"><link rel="prefetch" href="/assets/js/34.51c795e3.js"><link rel="prefetch" href="/assets/js/35.12f7f988.js"><link rel="prefetch" href="/assets/js/36.8327db33.js"><link rel="prefetch" href="/assets/js/37.112f6c0b.js"><link rel="prefetch" href="/assets/js/38.20191ba3.js"><link rel="prefetch" href="/assets/js/39.e45a5efd.js"><link rel="prefetch" href="/assets/js/4.917e5a2f.js"><link rel="prefetch" href="/assets/js/40.238ee8ee.js"><link rel="prefetch" href="/assets/js/41.be9bf62e.js"><link rel="prefetch" href="/assets/js/42.3a4f56b4.js"><link rel="prefetch" href="/assets/js/43.92f23c09.js"><link rel="prefetch" href="/assets/js/44.e5053632.js"><link rel="prefetch" href="/assets/js/45.52ab3b68.js"><link rel="prefetch" href="/assets/js/46.c2589849.js"><link rel="prefetch" href="/assets/js/47.102e88ad.js"><link rel="prefetch" href="/assets/js/48.bf524334.js"><link rel="prefetch" href="/assets/js/49.0f9ffe85.js"><link rel="prefetch" href="/assets/js/5.323082ce.js"><link rel="prefetch" href="/assets/js/50.43cb2571.js"><link rel="prefetch" href="/assets/js/51.976889fe.js"><link rel="prefetch" href="/assets/js/52.118f8b22.js"><link rel="prefetch" href="/assets/js/53.06a3f5cd.js"><link rel="prefetch" href="/assets/js/54.493670ce.js"><link rel="prefetch" href="/assets/js/55.0a6a171b.js"><link rel="prefetch" href="/assets/js/56.36041806.js"><link rel="prefetch" href="/assets/js/57.3abb2bd6.js"><link rel="prefetch" href="/assets/js/58.9c30f62c.js"><link rel="prefetch" href="/assets/js/59.f5e92ffb.js"><link rel="prefetch" href="/assets/js/6.fba4ebfe.js"><link rel="prefetch" href="/assets/js/60.14f8e778.js"><link rel="prefetch" href="/assets/js/61.f555540c.js"><link rel="prefetch" href="/assets/js/62.e596fc73.js"><link rel="prefetch" href="/assets/js/63.0c349e67.js"><link rel="prefetch" href="/assets/js/64.dd07a2e6.js"><link rel="prefetch" href="/assets/js/65.315a6949.js"><link rel="prefetch" href="/assets/js/66.1c5ded71.js"><link rel="prefetch" href="/assets/js/67.494d92bb.js"><link rel="prefetch" href="/assets/js/68.aef647d2.js"><link rel="prefetch" href="/assets/js/69.45bd65a7.js"><link rel="prefetch" href="/assets/js/7.45101e24.js"><link rel="prefetch" href="/assets/js/70.06c91bba.js"><link rel="prefetch" href="/assets/js/71.b8aece77.js"><link rel="prefetch" href="/assets/js/72.7cf0f3d3.js"><link rel="prefetch" href="/assets/js/73.f49fdd95.js"><link rel="prefetch" href="/assets/js/74.5a806d23.js"><link rel="prefetch" href="/assets/js/75.91f2b41a.js"><link rel="prefetch" href="/assets/js/76.1db73a7f.js"><link rel="prefetch" href="/assets/js/77.39aa2f0f.js"><link rel="prefetch" href="/assets/js/78.dcd5cc8e.js"><link rel="prefetch" href="/assets/js/79.df14cf99.js"><link rel="prefetch" href="/assets/js/80.2b3b8b9f.js"><link rel="prefetch" href="/assets/js/81.80345e8a.js"><link rel="prefetch" href="/assets/js/82.ed95ca0d.js"><link rel="prefetch" href="/assets/js/83.335e4184.js"><link rel="prefetch" href="/assets/js/84.b219dc4b.js"><link rel="prefetch" href="/assets/js/85.9d032788.js"><link rel="prefetch" href="/assets/js/86.55f210e6.js"><link rel="prefetch" href="/assets/js/87.a0db9e8f.js"><link rel="prefetch" href="/assets/js/88.b3537c8a.js"><link rel="prefetch" href="/assets/js/89.33570411.js"><link rel="prefetch" href="/assets/js/9.20fcb649.js"><link rel="prefetch" href="/assets/js/90.941c4684.js"><link rel="prefetch" href="/assets/js/91.be607e5a.js"><link rel="prefetch" href="/assets/js/92.f0d5e953.js"><link rel="prefetch" href="/assets/js/93.b8937166.js"><link rel="prefetch" href="/assets/js/94.b252b8a4.js"><link rel="prefetch" href="/assets/js/95.8af820f5.js"><link rel="prefetch" href="/assets/js/96.9dcd0ab0.js"><link rel="prefetch" href="/assets/js/97.9699c160.js"><link rel="prefetch" href="/assets/js/98.e1d14407.js"><link rel="prefetch" href="/assets/js/99.eb86b749.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a6635593.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="苏呆呆的博客" class="logo"> <span class="site-name can-hide">苏呆呆的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><a href="/language/" class="link-title">编程语言</a> <span class="title" style="display:none;">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/c++/" class="nav-link">C++</a></li><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/language/go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件设计" class="dropdown-title"><a href="/design/" class="link-title">软件设计</a> <span class="title" style="display:none;">软件设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design/oo/" class="nav-link">面向对象</a></li><li class="dropdown-item"><!----> <a href="/design/GoF/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/design/ddd/" class="nav-link">领域驱动设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><a href="/frame/" class="link-title">常用框架</a> <span class="title" style="display:none;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/spring/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><a href="/tools/" class="nav-link">常用工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/archives/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">关于</a></li><li class="dropdown-subitem"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></li></ul></li></ul></div></div> <a href="https://github.com/su-dd/blogwriter" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.addai.cn/blog/网站使用/呆呆.webp"> <div class="blogger-info"><h3>苏呆呆</h3> <span>一个向往美好生活的笨人。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><a href="/language/" class="link-title">编程语言</a> <span class="title" style="display:none;">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/c++/" class="nav-link">C++</a></li><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/language/go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件设计" class="dropdown-title"><a href="/design/" class="link-title">软件设计</a> <span class="title" style="display:none;">软件设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design/oo/" class="nav-link">面向对象</a></li><li class="dropdown-item"><!----> <a href="/design/GoF/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/design/ddd/" class="nav-link">领域驱动设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><a href="/frame/" class="link-title">常用框架</a> <span class="title" style="display:none;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/spring/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><a href="/tools/" class="nav-link">常用工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/archives/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">关于</a></li><li class="dropdown-subitem"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></li></ul></li></ul></div></div> <a href="https://github.com/su-dd/blogwriter" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/34e57a/" class="sidebar-link">认知DDD</a></li><li><a href="/pages/210a5b/" class="sidebar-link">DDD概览</a></li><li><a href="/pages/e880da/" class="sidebar-link">值对象、DP</a></li><li><a href="/pages/e88Odc/" class="sidebar-link">实体、领域服务、应用服务</a></li><li><a href="/pages/e880df/" aria-current="page" class="active sidebar-link">基于Cola的初步实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/e880df/#业务要求" class="sidebar-link">业务要求</a></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#常见代码" class="sidebar-link">常见代码</a></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#认识问题" class="sidebar-link">认识问题</a></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#_1、解决分包不清晰" class="sidebar-link">1、解决分包不清晰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/e880df/#cola-4-0-架构-框架" class="sidebar-link">Cola 4.0 架构/框架</a></li><li class="sidebar-sub-header level3"><a href="/pages/e880df/#分包后工程结构" class="sidebar-link">分包后工程结构</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#_2、解决dto臃肿问题" class="sidebar-link">2、解决DTO臃肿问题</a></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#git代码" class="sidebar-link">Git代码</a></li><li class="sidebar-sub-header level2"><a href="/pages/e880df/#cola组件介绍" class="sidebar-link">Cola组件介绍</a></li></ul></li><li><a href="/pages/e880db/" class="sidebar-link">贫血模型和充血模型</a></li><li><a href="/pages/e880dd/" class="sidebar-link">统一语言</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1--%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1" title="分类" data-v-06225672>软件设计--领域驱动设计</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/su-dd" target="_blank" title="作者" class="beLink" data-v-06225672>su-dd</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-05-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">基于Cola的初步实践<!----></h1>  <div class="theme-vdoing-content content__default"><p>这一节，主要是介绍CQRS、基于COLA的分包方式。</p> <p>希望将领域模型的理论，应用到实战。</p> <p>既然要应用到实战，这里不经要问一个问题： <strong>距离实战，还有多少差距？</strong></p> <h2 id="业务要求"><a href="#业务要求" class="header-anchor">#</a> 业务要求</h2> <blockquote><p>1、活动策划可以查看所有用户信息，并可以通过，手机号码、姓名、销售信息 里的一个或多个来查找用户，显示姓名，号码。</p> <p>2、活动策划可以查看用户的详细信息，显示：姓名，号码，新手福利信息；并修改用户的新手福利。</p> <p>3、用户可以自行注销账号。</p></blockquote> <h2 id="常见代码"><a href="#常见代码" class="header-anchor">#</a> 常见代码</h2> <p><strong>应用服务：</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserRepo</span> userRepo<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CheckUserService</span> checkUserService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RealnameService</span> realnameService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDTO</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">Name</span> name<span class="token punctuation">,</span> <span class="token class-name">PhoneNumber</span> phone<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ValidationException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 查询实名信息(实名信息验证)</span>
        <span class="token class-name">RealnameInfo</span> realnameInfo <span class="token operator">=</span> realnameService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 构造对象</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>realnameInfo<span class="token punctuation">,</span> phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 检查User对象</span>
        checkUserService<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDTO</span><span class="token punctuation">(</span>userRepo<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDTO</span><span class="token punctuation">&gt;</span></span> <span class="token function">findList</span><span class="token punctuation">(</span><span class="token class-name">UserParamDTO</span> userParamDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> userRepo<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>userParamDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDTO</span><span class="token punctuation">&gt;</span></span> userDTOList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>user <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            userDTOList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserDTO</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userDTOList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDTO</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">UserParamDTO</span> userParamDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userRepo<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDTO</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDTO</span> <span class="token function">setFresh</span><span class="token punctuation">(</span><span class="token class-name">UserParamDTO</span> userParamDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userRepo<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 设置用户为新客身份，以便发送新手礼包</span>
            user<span class="token punctuation">.</span><span class="token function">setFresh</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 检查User对象</span>
            checkUserService<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDTO</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token class-name">UserParamDTO</span> userParamDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> userRepo<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>userParamDTO<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h2 id="认识问题"><a href="#认识问题" class="header-anchor">#</a> 认识问题</h2> <p><strong>1、前两章的问题，这里再次出现</strong></p> <p>解决办法，回顾前两篇内容。</p> <p><strong>2、随着不断的提取概念，经典的3层结构不能很好的容纳这些概念。</strong></p> <p><img src="https://cdn.addai.cn/blog/2022/5/24/3%E5%B1%82%E7%BB%93%E6%9E%84%E7%9A%84%E9%97%AE%E9%A2%98.png" alt="3层结构的问题"></p> <p><strong>3、多个请求使用一个DTO，导致DTO臃肿</strong></p> <p>现在的UserParamDTO，被多个业务使用。导致DTO的臃肿，在传输中需要填充并不需要的字段。</p> <p>后续维护者，不知道DTO的成员变量有几重业务意义；只能不断膨胀。</p> <p>同时应用服务不断被修改，有业务外流的风险；也不符合开闭原则。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserParamDTO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用户id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>
    <span class="token comment">// 用户名称</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">// 用户手机</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
    <span class="token comment">//绑定销售id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> salesId<span class="token punctuation">;</span>
    <span class="token comment">// 标志是否为新用户，默认为false</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> fresh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_1、解决分包不清晰"><a href="#_1、解决分包不清晰" class="header-anchor">#</a> 1、解决分包不清晰</h2> <p>相对经典的3层架构而言，DDD也有自己的分层架构方式。</p> <p>DDD的经典4层架构：<strong>用户接口层</strong>，<strong>应用层</strong>，<strong>领域层</strong>，<strong>基础设施层</strong></p> <p>与原3层架构，对照如下。</p> <p><img src="https://cdn.addai.cn/blog/%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/DDD/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84.webp" alt="分层架构"></p> <p>用于DDD分层的复杂性比较高，如： 具体代码如何划分，如何归属。</p> <p>这里推荐使用Cola的分层方式。</p> <p>目前Cola已经到4.0时代，经过4个版本的沉淀；笔者认为它已经是一个非常完善的架构方式。</p> <h3 id="cola-4-0-架构-框架"><a href="#cola-4-0-架构-框架" class="header-anchor">#</a> Cola 4.0 架构/框架</h3> <p>COLA 4.0 架构分成COLA架构和COLA组件两个部分：</p> <ol><li><p>COLA架构：关注应用架构的定义和构建，提升应用质量。</p></li> <li><p>COLA组件：提供应用开发所需要的可复用组件，提升研发效率。</p></li></ol> <p><img src="https://cdn.addai.cn/blog/%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/DDD/Cola/cola%E5%88%86%E5%8C%85.webp" alt="cola分包"></p> <p>COLA架构各个包结构的简要功能描述，如下表所示：</p> <table><thead><tr><th style="text-align:left;">层次</th> <th style="text-align:left;">包名</th> <th style="text-align:left;">功能</th> <th style="text-align:left;">必选</th></tr></thead> <tbody><tr><td style="text-align:left;">Adapter层</td> <td style="text-align:left;">web</td> <td style="text-align:left;">处理页面请求的Controller</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Adapter层</td> <td style="text-align:left;">wireless</td> <td style="text-align:left;">处理无线端的适配</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Adapter层</td> <td style="text-align:left;">wap</td> <td style="text-align:left;">处理wap端的适配</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">App层</td> <td style="text-align:left;">executor</td> <td style="text-align:left;">处理request，包括command和query</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">App层</td> <td style="text-align:left;">consumer</td> <td style="text-align:left;">处理外部message</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">App层</td> <td style="text-align:left;">scheduler</td> <td style="text-align:left;">处理定时任务</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Domain层</td> <td style="text-align:left;">model</td> <td style="text-align:left;">领域模型</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Domain层</td> <td style="text-align:left;">ability</td> <td style="text-align:left;">领域能力，包括DomainService</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Domain层</td> <td style="text-align:left;">gateway</td> <td style="text-align:left;">领域网关，解耦利器</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">Infra层</td> <td style="text-align:left;">gatewayimpl</td> <td style="text-align:left;">网关实现</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">Infra层</td> <td style="text-align:left;">mapper</td> <td style="text-align:left;">ibatis数据库映射</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Infra层</td> <td style="text-align:left;">config</td> <td style="text-align:left;">配置信息</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">Client SDK</td> <td style="text-align:left;">api</td> <td style="text-align:left;">服务对外透出的API</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">Client SDK</td> <td style="text-align:left;">dto</td> <td style="text-align:left;">服务对外的DTO</td> <td style="text-align:left;">是</td></tr></tbody></table> <h3 id="分包后工程结构"><a href="#分包后工程结构" class="header-anchor">#</a> 分包后工程结构</h3> <p>1、首先是<strong>用户接口层</strong>和<strong>应用层</strong>的填充。</p> <p><img src="https://cdn.addai.cn/blog/2022/5/24/202205241527906.png" alt="用户接口层和应用层"></p> <p>2、<strong>领域层</strong>的填充</p> <p><img src="https://cdn.addai.cn/blog/2022/5/24/202205241541179.png" alt="领域层"></p> <p>3、<strong>基础设施层</strong> 的填充</p> <p><img src="https://cdn.addai.cn/blog/2022/5/24/202205241547168.png" alt="基础设施层"></p> <h2 id="_2、解决dto臃肿问题"><a href="#_2、解决dto臃肿问题" class="header-anchor">#</a> 2、解决DTO臃肿问题</h2> <p>当前的DTO运行方式为：</p> <p><img src="https://cdn.addai.cn/blog/%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/DDD/%E4%BC%A0%E7%BB%9F%E7%9A%84%E8%AF%BB%E5%86%99.webp" alt="传统的读写"></p> <p>单一的DTO，在DDD中适配多个业务。DTO不断的被复杂化。</p> <p>为了解决这个问题，这里引入一个概念：</p> <p><strong>CQRS（Command and Query Responsibility Segregation）命令和查询责任隔离</strong></p> <p>为了解决传统DTO在DDD中的问题，提出了根据读写职责不同，把领域模型切分为command和query两个部分：</p> <p><img src="https://cdn.addai.cn/blog/%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/DDD/CQRS%E8%AF%BB%E5%86%99.webp" alt="CQRS读写"></p> <p>Command端与Query端都通过Application Service 进入系统，共享同一个数据库，但Command端只写入状态，Query端只读取状态。</p> <p><strong>代码分包方式：</strong></p> <p><img src="https://cdn.addai.cn/blog/2022/5/25/202205251257068.png" alt="CDQS"></p> <p><strong>定义和执行体：</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 参数</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegisterUserCmd</span> <span class="token keyword">extends</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用户名称</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">// 用户手机</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 执行</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegisterUserCmdExe</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserGateWay</span> userGateWay<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CheckUserService</span> checkUserService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RealnameService</span> realnameService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">SingleResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDetailCO</span><span class="token punctuation">&gt;</span></span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">RegisterUserCmd</span> registerUserCmd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 查询实名信息(实名信息验证)</span>
            <span class="token class-name">RealnameInfo</span> realnameInfo <span class="token operator">=</span> realnameService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span>registerUserCmd<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PhoneNumber</span><span class="token punctuation">(</span>registerUserCmd<span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 构造对象</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>realnameInfo<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PhoneNumber</span><span class="token punctuation">(</span>registerUserCmd<span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 检查User对象</span>
            checkUserService<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">SingleResponse</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserDetailCO</span><span class="token punctuation">(</span>userGateWay<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ValidationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">SingleResponse</span><span class="token punctuation">.</span><span class="token function">buildFailure</span><span class="token punctuation">(</span><span class="token string">&quot;401&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回值</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDetailCO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用户id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>
    <span class="token comment">// 用户名称</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">// 用户手机</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
    <span class="token comment">//用户标签</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
    <span class="token comment">//绑定销售id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> salesId<span class="token punctuation">;</span>
    <span class="token comment">// 标志是否为新用户，默认为false</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> fresh<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDetailCO</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userId <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>phone <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>label <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>salesId <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getSales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSalesId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fresh <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getFresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><p><strong>调用代码：</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">RegisterUserCmdExe</span> registerUserCmdExe<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">FindUsersQryExe</span> findUsersQryExe<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">FindUserQryExe</span> findUserQryExe<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">FreshUserCmdExe</span> freshUserCmdExe<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DeleteUserCmdExe</span> deleteUserCmdExe<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">SingleResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDetailCO</span><span class="token punctuation">&gt;</span></span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">RegisterUserCmd</span> registerUserCmd<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token keyword">return</span> registerUserCmdExe<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>registerUserCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">MultiResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserSimpleCO</span><span class="token punctuation">&gt;</span></span> <span class="token function">findList</span><span class="token punctuation">(</span><span class="token class-name">FindUsersQry</span> findUsersQry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> findUsersQryExe<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>findUsersQry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">SingleResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDetailCO</span><span class="token punctuation">&gt;</span></span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">FindUserQry</span> findUserQry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> findUserQryExe<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>findUserQry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">SingleResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDetailCO</span><span class="token punctuation">&gt;</span></span> <span class="token function">setFresh</span><span class="token punctuation">(</span><span class="token class-name">FreshUserCmd</span> freshUserCmd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> freshUserCmdExe<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>freshUserCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Response</span> <span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token class-name">DeleteUserCmd</span> deleteUserCmd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> deleteUserCmdExe<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>deleteUserCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>封装完成后，任何一个业务的参数变化，只会影响自己的业务情况。</p> <p>应用服务不会因为业务的变化而变化，具体的业务组织交个每个业务执行体做； 更符合单一职责。</p> <h2 id="git代码"><a href="#git代码" class="header-anchor">#</a> Git代码</h2> <p>仓库位置：<a href="https://github.com/su-dd/demo.git" target="_blank" rel="noopener noreferrer">https://github.com/su-dd/demo.git<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>代码位置：<a href="https://github.com/su-dd/demo/tree/main/%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B/30Demo" target="_blank" rel="noopener noreferrer">领域模型/30Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="cola组件介绍"><a href="#cola组件介绍" class="header-anchor">#</a> Cola组件介绍</h2> <p>COLA 组件：提供了一些框架级别的功能，提供应用开发所需要的可复用组件，提升研发效率。</p> <table><thead><tr><th style="text-align:left;">组件名称</th> <th style="text-align:left;">功能</th> <th style="text-align:left;">版本</th> <th style="text-align:left;">依赖</th></tr></thead> <tbody><tr><td style="text-align:left;">cola-component-dto</td> <td style="text-align:left;">定义了DTO格式，包括分页</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">cola-component-exception</td> <td style="text-align:left;">定义了异常格式，主要有BizException和SysException</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">cola-component-statemachine</td> <td style="text-align:left;">状态机组件</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">cola-component-domain-starter</td> <td style="text-align:left;">Spring托管的领域实体组件</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">cola-component-catchlog-starter</td> <td style="text-align:left;">异常处理和日志组件</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">exception,dto组件</td></tr> <tr><td style="text-align:left;">cola-component-extension-starter</td> <td style="text-align:left;">扩展点组件</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">cola-component-test-container</td> <td style="text-align:left;">测试容器组件</td> <td style="text-align:left;">1.0.0</td> <td style="text-align:left;">无</td></tr></tbody></table> <p>参考：《 <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fblog.csdn.net%2Fsignificantfrank%2Farticle%2Fdetails%2F110934799" target="_blank" rel="noopener noreferrer">COLA 4.0：应用架构的最佳实践<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>》</p> <p>梳理文档时，借用了多篇文档的内容，目前以记不清晰；未能详细标记，望海涵。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/su-dd/blogwriter/edit/master/docs/软件设计--领域驱动设计/50.基于Cola的初步实践.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=DDD" title="标签">#DDD</a><a href="/tags/?tag=COLA" title="标签">#COLA</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/04/09, 19:59:04</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/e88Odc/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">实体、领域服务、应用服务</div></a> <a href="/pages/e880db/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">贫血模型和充血模型</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/e88Odc/" class="prev">实体、领域服务、应用服务</a></span> <span class="next"><a href="/pages/e880db/">贫血模型和充血模型</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/a038dc/"><div>
            NVM使用
            <!----></div></a> <span class="date">04-03</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/44f8a2/"><div>
            CMake详解
            <!----></div></a> <span class="date">04-03</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/6a3b4c/"><div>
            CMake简述
            <!----></div></a> <span class="date">04-03</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:987380454@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/su-dd" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>daidai | <a href="https://beian.miit.gov.cn/" target="_blank">皖ICP备2023000523号-1</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><!----></div></div>
    <script src="/assets/js/app.b2b0617d.js" defer></script><script src="/assets/js/2.cff562a5.js" defer></script><script src="/assets/js/161.15f6e202.js" defer></script><script src="/assets/js/8.7397f135.js" defer></script>
  </body>
</html>
