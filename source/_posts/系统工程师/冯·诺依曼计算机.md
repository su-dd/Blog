---
title: 冯·诺依曼计算机
date: 2019-02-13 15:15:22
tag:
    - 冯·诺依曼
categories:
    - 系统工程师考试归纳
comments: true
---
# 冯·诺依曼计算机

冯·诺依曼（VonNeumann）计算机是现代计算机的基础，往前追溯为图灵计算机。  
冯·诺依曼计算机的实现思路为：**存储程序控制** ；存储程序控制的提出和实现也是冯·诺依曼对计算机世界的最大贡献。

## 存储程序控制
>1.计算机（指硬件）应由运算器、存储器、控制器、输入设备和输出设备五大基本部件组成  
>2.计算机内部采用二级制来表示指令和数据  
>3.将编好的程序和原始数据事先存入存储器中，然后再启动计算机工作。

## 冯·诺依曼结构

**Main Memory** : 主存  
**CPU** :  
&emsp;&emsp;&emsp;ArithmeticLogic Unit : 算术逻辑单元（运算器）  
&emsp;&emsp;&emsp;Program Control Unit : 程序控制单元（控制器）  
**I/O Equipment**:  
&emsp;&emsp;&emsp;输入/输出设备

**新和旧的区别**：I/O设备挂载的位置

### 1、原始结构图
原始的 冯·诺依曼计算机 以**运算器**为中心：  
![旧结构图](../../images/系统工程师/冯·诺依曼计算机/旧冯·诺依曼.png '旧结构图')

### 2、新结构图
新的 冯·诺依曼计算机 以**存储器**为中心：
![新结构图](../../images/系统工程师/冯·诺依曼计算机/新冯·诺依曼.png '新结构图')

### 3、硬件说明

>**控制器** 是分析和执行指令的部件，也是统一指挥并控制计算机各部件协调工作的中心部件，所依据的是机器指令。  
>① 程序计数器 PC：存储下一条要执行指令的地址；  
>② 指令寄存器 IR：存储即将执行的指令；  
>③ 指令译码器 ID：对指令中的操作码字段进行分析解释；  
>④ 时序部件：提供时序控制信号  

>**运算器** 也称为算术逻辑单元（ ArithmeticandLogicUnit， ALU），其主要功能是在控制器的控制下完成各种算术运算和逻辑运算。  
>① 算术逻辑单元 ALU：数据的算术运算和逻辑运算；  
>② 累加寄存器 AC：通用寄存器，为 ALU 提供一个工作区，用在暂存数据；  
>③ 数据缓冲寄存器 DR：写内存时，暂存指令或数据；  
>④ 状态条件寄存器 PSW：存状态标志与控制标志（争议点：也有将其归为控制器的）。  

>**主存储器**也称为内存储器（通常简称为“内存”或“主存”）。存储现场操作的信息与中间结果，包括机器指令和数据。

>**辅助存储器**也称为外存储器，通常简称为外存或辅存。存储需要长期保存的各种信息。

>**输入设备**的任务是把人们编好的程序和原始数据送到计算机中去，并且将它们转换成计算机内部所能识别和接受的信息方式。按输入信息的形态可分为字符（包括汉字）输入、图形输入、图像输入及语音输入等。目前，常见的输入设备有键盘、 鼠标、扫描仪等。

>**输出设备**的任务是将计算机的处理结果以人或其他设备所能接受的形式送出计算机。目前，最常用的输出设备是打印机和显示器。有些设备既可以是输入设备，同时也可以是输出设备，例如，辅助存储器、自动控制和检测系统中使用的数模转换装置等。

## 指令
**定义**：程序控制逻辑，由控制器分析和执行。

### 复杂指令（Complex Instruction Set Computer， CISC）
**思路**：增强指令的功能，设置一些功能复杂的指令，把一些原来由软件实现的、常用的功能改用硬件的指令系统来实现。

**特点**
>（1）指令数量众多。指令系统拥有大量的指令，通常有 100～250 条。  

>（2）指令使用频率相差悬殊。最常使用的是一些比较简单的指令，仅占指令总数的 20%，但在程序中出现的频率却占 80%。而大部分复杂指令却很少使用。  

>（3）支持很多种寻址方式。支持的寻址方式通常为 5～20 种。  

>（4）变长的指令。指令长度不是固定的，变长的指令增加指令译码电路的复杂性。  

>（5）指令可以对主存单元中的数据直接进行处理。典型的 CISC 通常都有指令能够直接对主存单元中的数据进行处理，其执行速度较慢。 

>（6）以微程序控制为主。 CISC 的指令系统很复杂，难以用硬布线逻辑（组合逻辑）电路实现控制器，通常采用微程序控制  

### 精简指令（Reduced Instruction Set Computer， RISC）
**思路**：简化指令功能，只保留那些功能简单，能在一个节拍内执行完成指令，较复杂的功能用一段子程序来实现。

**特点**
>（1）指令数量少。优先选取使用频率最高的一些简单指令和一些常用指令，避免使用复杂指令。
>>只提供了 LOAD（从存储器中读数）和 STORE（把数据写入存储器）两条指令对存储器操作，其余所有的操作都在 CPU 的寄存器之间进行。  

>（2）指令的寻址方式少。通常只支持寄存器寻址方式、立即数寻址方式和相对寻址方式。  

>（ 3）指令长度固定，指令格式种类少。因为 RISC 指令数量少、格式少、相对简单，其指令长度固定，指令之间各字段的划分比较一致，译码相对容易。  

>（4）以硬布线逻辑控制为主。为了提高操作的执行速度，通常采用硬布线逻辑（组合逻辑）来构建控制器。 

>（5）单周期指令执行，采用流水线技术。因为简化了指令系统，很容易利用流水线技术，使得大部分指令都能在一个机器周期内完成。少数指令可能会需要多周期，例如，OAD/STORE 指令因为需要访问存储器，其执行时间就会长一些。  

>（6）优化的编译器： RISC 的精简指令集使编译工作简单化。因为指令长度固定、格式少、寻址方式少，编译时不必在具有相似功能的许多指令中进行选择，也不必为寻址方式的选择而费心，同时易于实现优化，从而可以生成高效率执行的机器代码。

>（7）CPU 中的通用寄存器数量多，一般在 32 个以上，有的可达上千个。  


## Flynn分类法
1966年，Michael.J.Flynn提出。根据指令流和数据流的多倍性对计算机系统进行分类。

> **指令流**：指机器执行的指令序列；  
> **数据流**：指由指令流调用的数据序列，包括输入数据和中间结果，但不包括输出数据。

### 分类
1、单指令单数据流（Single Instruction stream and Single Data stream）：SISD   
>传统的顺序执行的单处理器计算机，其指令部件每次只对一条指令进行译码，并只对
一个操作部件分配数据。

2、单指令多数据流（Single Instruction stream and Multiple Data stream）：SIMD  
>并行处理机（矩阵处理机）为代表，并行处理机包括多个**重复的**处理单元，由单一指令部
件控制，按照同一指令流的要求为它们分配各自所需的**不同数据**。

3、多指令单数据流（Multiple Instruction stream and Single Data stream）：MISD
>具有 n 个处理单元，按 n 条不同指令的要求对同一数据流及其中间结果进行不同的处理。
一个处理单元的输出又作为另一个处理单元的输入。这类系统实际上很少见到。有文献把流
水线看作多个指令部件，称流水线计算机是 MISD。

4、多指令多数据流（Multiple Instruction stream and Multiple Data stream）：MIMD
>能实现作业、任务、指令等各级全面并行的多机系统。如多核处理器、多处理机属于 MIMD。

## 总线
